---
openapi: 3.0.0
info:
  title: Documentación de la API para el Sistema de Monitorización de Marketplaces de Software
  description: Documentación de la API para poder acceder directamente a los distintos monitores desde una única API
  version: 1.0.0
servers:
- url: https://virtserver.swaggerhub.com/JOELMACIAS/SoftwareMarketplaceMonitoring/1.0.0
  description: SwaggerHub API Auto Mocking
paths:
  /eclipse/retrieve-marketplaces-and-categories:
    get:
      tags:
      - Eclipse
      summary: Obtener las categorías y mercados proporcionados por Eclipse Marketplace
      operationId: retrieveMarketplacesAndCategories
      parameters:
      - name: cache
        in: query
        description: Cache flag
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: page_num
        in: query
        description: Page number
        required: false
        style: form
        explode: true
        schema:
          type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_200'
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /eclipse/markets/{market}/categories/{category}/products:
    get:
      tags:
      - Eclipse
      summary: Obtener productos por mercado y categoría
      operationId: getProductsByMarketplaceAndCategory
      parameters:
      - name: market
        in: path
        description: Market ID
        required: true
        style: simple
        explode: false
        schema:
          type: integer
      - name: category
        in: path
        description: Category ID
        required: true
        style: simple
        explode: false
        schema:
          type: integer
      - name: cache
        in: query
        description: Cache flag
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: page_num
        in: query
        description: Page number
        required: false
        style: form
        explode: true
        schema:
          type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
        "400":
          description: Bad request
  /eclipse/product/id/{nodeId}:
    get:
      tags:
      - Eclipse
      summary: Obtener producto por ID
      operationId: getProductById
      parameters:
      - name: nodeId
        in: path
        description: Product node ID
        required: true
        style: simple
        explode: false
        schema:
          type: integer
      - name: cache
        in: query
        description: Cache flag
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: page_num
        in: query
        description: Page number
        required: false
        style: form
        explode: true
        schema:
          type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        "404":
          description: Product not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /eclipse/products/top-favorites:
    get:
      tags:
      - Eclipse
      summary: Obtener productos favoritos
      operationId: getTopFavorites
      parameters:
      - name: page_num
        in: query
        description: Page number
        required: false
        style: form
        explode: true
        schema:
          type: integer
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /eclipse/search/products:
    get:
      tags:
      - Eclipse
      summary: Buscar productos
      operationId: getProductByQuery
      parameters:
      - name: query
        in: query
        description: Search query
        required: true
        style: form
        explode: true
        schema:
          type: string
      - name: parameters
        in: query
        description: Additional search parameters
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: cache
        in: query
        description: Cache flag
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /eclipse/add-products:
    post:
      tags:
      - Eclipse
      summary: Añadir nuevos productos
      operationId: addProducts
      requestBody:
        description: Product objects to add
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/Product'
        required: true
      responses:
        "201":
          description: Productos añadidos correctamente
        "500":
          description: Error al añadir productos
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /eclipse/delete/product/{id}:
    delete:
      tags:
      - Eclipse
      summary: Eliminar un producto
      operationId: deleteProduct
      parameters:
      - name: id
        in: path
        description: Product ID
        required: true
        style: simple
        explode: false
        schema:
          type: integer
      responses:
        "204":
          description: Producto eliminado correctamente
        "500":
          description: Error al eliminar el producto
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /mozilla/retrieve-categories:
    get:
      tags:
      - Mozilla
      summary: Obtener las categorías disponibles en Mozilla Marketplace
      operationId: getCategories
      parameters:
      - name: cache
        in: query
        description: Cache flag
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "201":
          description: Categories retrieved from cache
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
        "202":
          description: Categories retrieved from API
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
        "400":
          description: No se pudo obtener las categorías
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /mozilla/retrieve-tags:
    get:
      tags:
      - Mozilla
      summary: Obtener las etiquetas disponibles en Mozilla Marketplace
      operationId: getTags
      parameters:
      - name: cache
        in: query
        description: Cache flag
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Keyword'
        "400":
          description: No se pudo obtener las etiquetas
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /mozilla/categories/products:
    get:
      tags:
      - Mozilla
      summary: Obtener productos por categoría
      operationId: getProductsByCategory
      parameters:
      - name: cache
        in: query
        description: Cache flag
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: category
        in: query
        description: Category name
        required: true
        style: form
        explode: true
        schema:
          type: string
      - name: type
        in: query
        description: Product type
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
        "500":
          description: La categoría introducida no existe
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
        "400":
          description: No se pudo obtener los productos
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /mozilla/keywords/products:
    get:
      tags:
      - Mozilla
      summary: Obtener productos por palabra clave
      operationId: getProductsByKeyword
      parameters:
      - name: cache
        in: query
        description: Cache flag
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: keyword
        in: query
        description: Keyword
        required: true
        style: form
        explode: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
        "400":
          description: No se pudo obtener los productos
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /mozilla/product/id/{productId}:
    get:
      tags:
      - Mozilla
      summary: Obtener producto por ID
      operationId: getProductByIdMozilla
      parameters:
      - name: productId
        in: path
        description: Product ID
        required: true
        style: simple
        explode: false
        schema:
          type: string
      - name: cache
        in: query
        description: Cache flag
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "201":
          description: Product retrieved from cache
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        "202":
          description: Product retrieved from API
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        "400":
          description: No se pudo encontrar el producto
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /mozilla/search/products:
    get:
      tags:
      - Mozilla
      summary: Buscar productos
      operationId: getProductByQueryMozilla
      parameters:
      - name: cache
        in: query
        description: Cache flag
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: query
        in: query
        description: Search query
        required: true
        style: form
        explode: true
        schema:
          type: string
      responses:
        "201":
          description: Products retrieved from cache
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
        "202":
          description: Products retrieved from API
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
        "400":
          description: No se pudo obtener el producto
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /mozilla/discovery/products:
    get:
      tags:
      - Mozilla
      summary: Descubrir productos
      operationId: discoveryProducts
      responses:
        "202":
          description: Products discovered and retrieved from API
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
        "400":
          description: Error en la llamada
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /mozilla/add-products:
    post:
      tags:
      - Mozilla
      summary: Añadir nuevos productos
      operationId: addProductsMozilla
      requestBody:
        description: Productos a añadir
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/Product'
        required: true
      responses:
        "201":
          description: Producto insertado correctamente
        "500":
          description: Error al insertar el producto
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /mozilla/delete-product/{productId}:
    delete:
      tags:
      - Mozilla
      summary: Eliminar un producto
      operationId: deleteProductMozilla
      parameters:
      - name: productId
        in: path
        description: Product ID
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "204":
          description: Producto eliminado correctamente
        "500":
          description: Error al eliminar el producto
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
  /microsoft/add-categories:
    post:
      tags:
      - Microsoft
      summary: Añadir nuevas categorías
      operationId: addCategories
      requestBody:
        description: Categorías a añadir
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/microsoft_addcategories_body'
        required: true
      responses:
        "201":
          description: Categorías insertadas correctamente
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
  /microsoft/retrieve-categories:
    get:
      tags:
      - Microsoft
      summary: Obtener categorías disponibles
      operationId: getCategoriesMicrosoft
      responses:
        "200":
          description: Categorías recuperadas correctamente
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
  /microsoft/product/id/{id}:
    get:
      tags:
      - Microsoft
      summary: Obtener producto por ID
      operationId: getProductByIdMicrosoft
      parameters:
      - name: id
        in: path
        description: ID del producto
        required: true
        style: simple
        explode: false
        schema:
          type: string
      - name: cache
        in: query
        description: Cache flag
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "201":
          description: Producto recuperado del caché
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        "202":
          description: Producto recuperado de la API
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Product'
        "404":
          description: No se pudo encontrar el producto
  /microsoft/search/products:
    get:
      tags:
      - Microsoft
      summary: Buscar productos
      operationId: searchProduct
      parameters:
      - name: cache
        in: query
        description: Cache flag
        required: false
        style: form
        explode: true
        schema:
          type: string
      - name: query
        in: query
        description: Consulta de búsqueda
        required: true
        style: form
        explode: true
        schema:
          type: string
      - name: match
        in: query
        description: Tipo de coincidencia
        required: false
        style: form
        explode: true
        schema:
          type: string
      responses:
        "200":
          description: Productos recuperados del caché
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
        "201":
          description: Productos recuperados de la API
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Product'
        "404":
          description: No se pudo encontrar el producto
        "400":
          description: No se pudo obtener las categorías
  /microsoft/add-product:
    post:
      tags:
      - Microsoft
      summary: Añadir nuevos productos
      operationId: addProduct
      requestBody:
        description: Productos a añadir
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/Product'
        required: true
      responses:
        "201":
          description: Productos añadidos correctamente
        "404":
          description: No se pudo insertar el producto
  /microsoft/delete/product/{id}:
    delete:
      tags:
      - Microsoft
      summary: Eliminar un producto
      operationId: deleteProductMicrosoft
      parameters:
      - name: id
        in: path
        description: ID del producto
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "204":
          description: Producto eliminado correctamente
        "404":
          description: Producto no encontrado
components:
  schemas:
    Category:
      required:
      - identifier
      - marketplace
      type: object
      properties:
        identifier:
          type: integer
          description: Primary key for the category
        name:
          type: string
          description: Name of the category
        api_name:
          type: string
          description: API name of the category
        url:
          type: string
          description: URL of the category
          format: uri
        description:
          type: string
          description: Description of the category
        marketplace:
          type: string
          description: Marketplace of the category
        type:
          type: string
          description: Type of the category
    Market:
      required:
      - identifier
      - marketplace
      type: object
      properties:
        identifier:
          type: integer
          description: Primary key for the market
        url:
          type: string
          description: URL of the market
          format: uri
        name:
          type: string
          description: Name of the market
        marketplace:
          type: string
          description: Marketplace of the market
    Keyword:
      required:
      - identifier
      - marketplace
      type: object
      properties:
        identifier:
          type: integer
          description: Primary key for the keyword
        name:
          type: string
          description: Name of the keyword
        marketplace:
          type: string
          description: Marketplace of the keyword
    Product:
      required:
      - identifier
      - marketplace
      type: object
      properties:
        identifier:
          type: string
          description: Primary key for the product
        url:
          type: string
          description: URL of the product
          format: uri
        name:
          type: string
          description: Name of the product
        description:
          type: string
          description: Description of the product
        type:
          type: string
          description: Type of the product
        creator:
          type: string
          description: Creator of the product
        api_name:
          type: string
          description: API name of the product
        marketplace:
          type: string
          description: Marketplace of the product
    ProductKeyword:
      required:
      - keywords
      - marketplace
      - product
      type: object
      properties:
        product:
          type: integer
          description: Product ID associated with the keyword
        keywords:
          type: string
          description: Keyword associated with the product
        marketplace:
          type: string
          description: Marketplace of the product
    Manufacturer:
      required:
      - name
      type: object
      properties:
        name:
          type: string
          example: ACME Corporation
        homePage:
          type: string
          format: url
          example: https://www.acme-corp.com
        phone:
          type: string
          example: 408-867-5309
    inline_response_200:
      type: object
      properties:
        categories:
          type: array
          items:
            $ref: '#/components/schemas/Category'
        markets:
          type: array
          items:
            $ref: '#/components/schemas/Market'
    inline_response_400:
      type: object
      properties:
        error:
          type: string
    microsoft_addcategories_body:
      type: object
      properties:
        categories:
          type: array
          items:
            type: string
